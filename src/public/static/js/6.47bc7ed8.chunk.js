(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{152:function(e,a,n){"use strict";var t=n(21),l={login:function(e){t.a.dispatch({type:"AUTH::LOGIN",data:e})},getData:function(){return t.a.getState().Auth},logout:function(){t.a.dispatch({type:"AUTH::LOGOUT"})},isUserLoggedIn:function(){return""!==t.a.getState().Auth.accessToken},updateWishList:function(e){return t.a.dispatch({type:"AUTH::WISHLIST::UPDATE",ids:e}),e}};a.a=l},165:function(e,a,n){"use strict";var t=n(2),l=n(131),r=n(152),i=new l.QueryResponseCache({size:250,ttl:36e5});var o=new l.Environment({network:l.Network.create((function(e,a,n){var l=e.text,o="mutation"===e.operationKind,s="query"===e.operationKind,c=n&&n.force,u=i.get(l,a);if(s&&null!==u&&!c)return u;var m={};if(r.a.isUserLoggedIn()){var d=r.a.getData();m={authorization:"Bearer "+d.accessToken,refreshToken:d.refreshToken}}return fetch("https://www.street17cafe.in/graphql",{method:"POST",headers:Object(t.a)({"content-type":"application/json"},m),body:JSON.stringify({query:e.text,variables:a})}).then((function(e){return e.json()})).then((function(n){if(s&&n&&i.set(l,a,n),!o||"AppMutation"===e.name&&"ApplyVoucherMutation"===e.name||i.clear(),n.errors)throw n.errors;return n}))})),store:new l.Store(new l.RecordSource)});a.a=o},166:function(e,a,n){"use strict";var t=n(152),l=n(47);a.a=function(e){try{e.length>0?function(e){if(void 0===e)return Object(l.b)("Unknow error occured",Date.now());for(var a=0;a<e.length;a++)void 0!==e[a].message&&("Unauthorized"===e[a].message?(console.log("Now will logout user"),Object(l.b)("Hi! you're not logged in [Register now|/account/auth/register]",Date.now()),t.a.logout()):Object(l.b)(e[a].message,Date.now()))}(e):void 0!==e.message&&Object(l.b)(e.message,Date.now())}catch(a){Object(l.b)("Unknown error occured",Date.now())}}},169:function(e,a,n){"use strict";var t=n(0),l=n.n(t),r=n(150),i=n(165),o=n(166),s=n(57),c=n(226),u=n.n(c),m=n(88),d=n(45),g=Object(m.a)({container:{height:"100px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},icon:{color:d.a[700],fontSize:56}});var p=function(e){var a=g();return l.a.createElement("div",{className:a.container},l.a.createElement(u.a,{className:a.icon}),"Error occured")};a.a=function(e){return l.a.createElement(r.QueryRenderer,Object.assign({environment:i.a,render:function(a){var n=a.error,t=a.props;return n?e.error?e.error(n):(Object(o.a)(n),l.a.createElement(p,null)):t?e.component(t):e.loading||l.a.createElement(s.a,{isLoading:!0,loadingMessage:e.loadingMessage})}},e))}},302:function(e,a,n){"use strict";var t=function(){var e={kind:"Literal",name:"limit",value:15},a={kind:"Literal",name:"page",value:1},n={kind:"Literal",name:"sort",value:{score:"desc"}};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"defaultQueryQuery",selections:[{args:[e,a,n],kind:"FragmentSpread",name:"RefetchTeams_teams"}],type:"Query"},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"defaultQueryQuery",selections:[{alias:null,args:[{fields:[{kind:"Literal",name:"team",value:""}],kind:"ObjectValue",name:"filter"},{fields:[e,a],kind:"ObjectValue",name:"paginate"},n],concreteType:"GetTeamsPayload",kind:"LinkedField",name:"getTeams",plural:!1,selections:[{alias:null,args:null,concreteType:"Team",kind:"LinkedField",name:"docs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"team",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tie",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"losses",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalPages",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalDocs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limit",storageKey:null}],storageKey:null}]},params:{id:null,metadata:{},name:"defaultQueryQuery",operationKind:"query",text:'query defaultQueryQuery {\n  ...RefetchTeams_teams_3R3R8i\n}\n\nfragment RefetchTeams_teams_3R3R8i on Query {\n  getTeams(paginate: {page: 1, limit: 15}, filter: {team: ""}, sort: {score: desc}) {\n    docs {\n      id\n      team\n      wins\n      tie\n      losses\n      score\n    }\n    page\n    totalPages\n    totalDocs\n    limit\n  }\n}\n'}}}();t.hash="169dea8d80a2d3c22260adb343fc232a",e.exports=t},306:function(e,a,n){"use strict";var t={argumentDefinitions:[{defaultValue:1,kind:"LocalArgument",name:"page",type:"Int"},{defaultValue:15,kind:"LocalArgument",name:"limit",type:"Int"},{defaultValue:"",kind:"LocalArgument",name:"search",type:"String"},{defaultValue:null,kind:"LocalArgument",name:"sort",type:"TeamSort"}],kind:"Fragment",metadata:null,name:"RefetchTeams_teams",selections:[{alias:null,args:[{fields:[{kind:"Variable",name:"team",variableName:"search"}],kind:"ObjectValue",name:"filter"},{fields:[{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"page",variableName:"page"}],kind:"ObjectValue",name:"paginate"},{kind:"Variable",name:"sort",variableName:"sort"}],concreteType:"GetTeamsPayload",kind:"LinkedField",name:"getTeams",plural:!1,selections:[{alias:null,args:null,concreteType:"Team",kind:"LinkedField",name:"docs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"team",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tie",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"losses",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalPages",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalDocs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limit",storageKey:null}],storageKey:null}],type:"Query",hash:"1ab38082bb56b359c0c66870c0714161"};e.exports=t},307:function(e,a,n){"use strict";var t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"page",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"limit",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"search",type:"String!"},{defaultValue:null,kind:"LocalArgument",name:"sort",type:"TeamSort"}],a={kind:"Variable",name:"limit",variableName:"limit"},n={kind:"Variable",name:"page",variableName:"page"},t={kind:"Variable",name:"sort",variableName:"sort"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"RefetchTeamsQuery",selections:[{args:[a,n,{kind:"Variable",name:"search",variableName:"search"},t],kind:"FragmentSpread",name:"RefetchTeams_teams"}],type:"Query"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"RefetchTeamsQuery",selections:[{alias:null,args:[{fields:[{kind:"Variable",name:"team",variableName:"search"}],kind:"ObjectValue",name:"filter"},{fields:[a,n],kind:"ObjectValue",name:"paginate"},t],concreteType:"GetTeamsPayload",kind:"LinkedField",name:"getTeams",plural:!1,selections:[{alias:null,args:null,concreteType:"Team",kind:"LinkedField",name:"docs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"team",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tie",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"losses",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalPages",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalDocs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limit",storageKey:null}],storageKey:null}]},params:{id:null,metadata:{},name:"RefetchTeamsQuery",operationKind:"query",text:"query RefetchTeamsQuery(\n  $page: Int!\n  $limit: Int!\n  $search: String!\n  $sort: TeamSort\n) {\n  ...RefetchTeams_teams_2wGgch\n}\n\nfragment RefetchTeams_teams_2wGgch on Query {\n  getTeams(paginate: {page: $page, limit: $limit}, filter: {team: $search}, sort: $sort) {\n    docs {\n      id\n      team\n      wins\n      tie\n      losses\n      score\n    }\n    page\n    totalPages\n    totalDocs\n    limit\n  }\n}\n"}}}();t.hash="6913c197ef68b6c13b8e626dd2813db9",e.exports=t},313:function(e,a,n){"use strict";var t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"data",type:"TeamInput!"}],a=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"TeamPayload",kind:"LinkedField",name:"addTeam",plural:!1,selections:[{alias:null,args:null,concreteType:"Team",kind:"LinkedField",name:"team",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"team",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addSchemaMutation",selections:a,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addSchemaMutation",selections:a},params:{id:null,metadata:{},name:"addSchemaMutation",operationKind:"mutation",text:"mutation addSchemaMutation(\n  $data: TeamInput!\n) {\n  addTeam(data: $data) {\n    team {\n      id\n      team\n    }\n    message\n  }\n}\n"}}}();t.hash="fc006550e841efb32c17307935e3ffa6",e.exports=t},314:function(e,a,n){"use strict";var t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"data",type:"CompeteInput!"}],a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"losses",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tie",storageKey:null}],n=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"CompetePayload",kind:"LinkedField",name:"compete",plural:!1,selections:[{alias:null,args:null,concreteType:"Team",kind:"LinkedField",name:"team1",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Team",kind:"LinkedField",name:"team2",plural:!1,selections:a,storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateResultMutation",selections:n,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateResultMutation",selections:n},params:{id:null,metadata:{},name:"updateResultMutation",operationKind:"mutation",text:"mutation updateResultMutation(\n  $data: CompeteInput!\n) {\n  compete(data: $data) {\n    team1 {\n      id\n      score\n      wins\n      losses\n      tie\n    }\n    team2 {\n      id\n      score\n      wins\n      losses\n      tie\n    }\n  }\n}\n"}}}();t.hash="b18be118366aaf2d29be1e6602fe5015",e.exports=t},315:function(e,a,n){"use strict";var t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"search",type:"String"}],a=[{alias:null,args:[{fields:[{kind:"Variable",name:"team",variableName:"search"}],kind:"ObjectValue",name:"filter"},{kind:"Literal",name:"paginate",value:{limit:5,page:1}}],concreteType:"GetTeamsPayload",kind:"LinkedField",name:"getTeams",plural:!1,selections:[{alias:null,args:null,concreteType:"Team",kind:"LinkedField",name:"docs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"team",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tie",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"losses",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalPages",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalDocs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limit",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CompeteQuery",selections:a,type:"Query"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CompeteQuery",selections:a},params:{id:null,metadata:{},name:"CompeteQuery",operationKind:"query",text:"query CompeteQuery(\n  $search: String\n) {\n  getTeams(paginate: {page: 1, limit: 5}, filter: {team: $search}) {\n    docs {\n      id\n      team\n      wins\n      tie\n      losses\n      score\n    }\n    page\n    totalPages\n    totalDocs\n    limit\n  }\n}\n"}}}();t.hash="ac40119b0c6104b4254e2acbb06887fb",e.exports=t},385:function(e,a,n){"use strict";n.r(a);var t,l=n(0),r=n.n(l),i=void 0!==t?t:t=n(302),o=n(169),s=n(56),c=n(139),u=n(2),m=n(150),d=n(135),g=n(88),p=n(392),f=n(116),b=n(375),y=n(376),h=n(364),v=n(368),k=n(377),E=n(386),S=n(352),T=n(369),O=n(374),j=n(396),F=n(57),K=n(154),w=n(47),C=n(303),x=n.n(C),R=n(304),L=n.n(R),D=Object(g.a)((function(e){return{loadingContainer:{position:"relative",overflow:"hidden",margin:0,width:"100%"},loader:{position:"absolute",width:"100%",height:"100%",zIndex:1,background:"rgba(0, 0, 0, .3)",top:0,left:0},row:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"space-between",paddingTop:e.spacing(2)}}}));function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return void 0===n||void 0===e[n]||void 0===a[n]?0:"number"!==typeof e[n]?e[n].toString().localeCompare(a[n].toString()):a[n]<e[n]?-1:a[n]>e[n]?1:0}function V(e){var a,n,t=e.result,l=Object(d.a)(e,["result"]),i=r.a.useState(15),o=Object(c.a)(i,2),s=o[0],m=o[1],g=r.a.useState(!1),h=Object(c.a)(g,2),v=h[0],k=h[1],j=D(),C=function(e,a){var n=e.map((function(e,a){return[e,a]}));return n.sort((function(e,n){var t=a(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),n.map((function(e){return e[0]}))}(t.docs,(a=l.order,n=l.orderBy,"desc"===a?function(e,a){return N(e,a,n)}:function(e,a){return-N(e,a,n)}));function R(e,a){k(!0);var n=l.getRefetchData(e,a);l.relay.refetch(Object(u.a)({},n),null,(function(e){k(!1),e&&Object(w.b)("Unable to fetch ".concat(e))}))}return r.a.createElement(f.a,null,r.a.createElement(E.a,{p:1,className:j.row},r.a.createElement(S.a,{variant:"h4",className:j.heading},l.title||"Data"),r.a.createElement("div",null,r.a.createElement(T.a,{placeholder:"search",InputProps:{startAdornment:r.a.createElement(O.a,{position:"start"},r.a.createElement(x.a,null))},value:l.search,onChange:function(e){return l.setSearch(e.target.value)}}),r.a.createElement(K.a,{onClick:l.addClick,title:"Add",icon:r.a.createElement(L.a,null)}))),r.a.createElement(b.a,null,r.a.createElement(I,{order:l.order,orderBy:l.orderBy,onRequestSort:function(e,a){l.handleSort(a)},headCells:l.headCells}),r.a.createElement(y.a,null,C.map((function(e){return l.render(e)})),(v||l.loading)&&r.a.createElement("div",{className:j.loader},r.a.createElement(F.a,{isLoading:!0})))),r.a.createElement(p.a,{rowsPerPageOptions:[15,30,50],component:"div",count:t.totalDocs,rowsPerPage:s,page:t.page-1,onChangePage:function(e,a){return R(a+1,s)},onChangeRowsPerPage:function(e){m(e.target.value),R(t.page,e.target.value)}}))}function I(e){var a=e.order,n=e.orderBy,t=e.onRequestSort;return r.a.createElement(k.a,null,r.a.createElement(v.a,null,e.headCells.map((function(e){return r.a.createElement(h.a,{key:e.id,align:e.numeric?"right":"left",sortDirection:n===e.id&&a},r.a.createElement(j.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(l=e.id,function(e){t(e,l)})},e.label));var l}))))}V.defaultProps={render:function(){},container:!1,spacing:0,loading:!1};var P,A,Q=V,q=n(378),B=n(118),M=n(149),U=n(305),W=n.n(U),$=function(e){return r.a.createElement(v.a,null,r.a.createElement(h.a,null,e.team),r.a.createElement(h.a,null,e.wins),r.a.createElement(h.a,null,e.losses),r.a.createElement(h.a,null,e.tie),r.a.createElement(h.a,null,e.score),r.a.createElement(h.a,null,r.a.createElement(q.a,null,r.a.createElement(B.a,{color:"secondary",variant:"contained",onClick:function(){return Object(M.a)(Object(u.a)({modal:!0},e))}},"Compete ",r.a.createElement(W.a,null)))))};var _=Object(m.createRefetchContainer)((function(e){console.log(e);var a=r.a.useState({open:!1}),n=Object(c.a)(a,2),t=(n[0],n[1]),l=r.a.useState(""),i=Object(c.a)(l,2),o=i[0],u=i[1],m=r.a.useState({order:"desc",orderBy:"score"}),d=Object(c.a)(m,2),g=d[0],p=d[1];function f(a){console.log(a);var n=e.teams.getTeams.docs.filter((function(e){return e.id===a}))[0];n||Object(w.e)("Unable to find bill. Some error occured"),t({open:!0,bill:n})}return r.a.createElement(E.a,{p:1},r.a.createElement(Q,Object.assign({headCells:[{id:"team",label:"Team Name"},{id:"wins",label:"Wins"},{id:"losses",label:"Losses"},{id:"tie",label:"Ties"},{id:"score",label:"Scores"},{id:"action",label:"Action"}],relay:e.relay,title:"Teams Participating",result:e.teams.getTeams,getRefetchData:function(e,a){return{page:e,limit:a,search:o,sort:Object(s.a)({},g.orderBy,g.order)}},render:function(e){return e?r.a.createElement($,Object.assign({key:e.id},e,{viewClick:f})):null},setSearch:function(a){e.relay.refetch({page:1,limit:e.teams.getTeams.limit,search:a,sort:Object(s.a)({},g.orderBy,g.order)},null,(function(e){e&&Object(w.b)("Unable to fetch ".concat(e))})),u(a)},search:o},g,{addClick:function(){return Object(M.d)()},handleSort:function(a){var n=g.orderBy===a&&"asc"===g.order;p({order:n?"desc":"asc",orderBy:a}),e.relay.refetch({page:1,limit:e.teams.getTeams.limit,search:o,sort:Object(s.a)({},g.orderBy,g.order)},null,(function(e){e&&Object(w.b)("Unable to fetch ".concat(e))}))}})))}),{teams:void 0!==P?P:P=n(306)},void 0!==A?A:A=n(307)),G=n(379),z=n(380),H=n(381),J=n(382),X=n(383),Y=n(363),Z=n(355),ee=r.a.forwardRef((function(e,a){return r.a.createElement(Z.a,Object.assign({direction:"up",ref:a},e))}));function ae(e){var a;return e.open?r.a.createElement(G.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullScreen:e.fullScreen,TransitionComponent:ee,scroll:"body"},r.a.createElement("div",{className:e.className},e.customTitle?e.customTitle:r.a.createElement(z.a,{id:"alert-dialog-title",disableTypography:!0},r.a.createElement(S.a,{variant:"h3"},e.title)),r.a.createElement(H.a,{className:null===(a=e.classes)||void 0===a?void 0:a.content},e.description&&r.a.createElement(J.a,{id:"alert-dialog-description"},e.description),e.children),!e.hideAction&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,null),r.a.createElement(X.a,null,r.a.createElement(B.a,{onClick:e.handleClose,color:"primary"},e.closeText),!e.hideSubmit&&r.a.createElement(B.a,{onClick:e.handleSubmit,color:"primary",autoFocus:!0,variant:"contained"},e.submitText))))):null}ae.defaultProps={submitText:"submit",closeText:"close",hideAction:!1,customTitle:!1};var ne=ae,te=n(165),le=n(166);var re=function(e,a,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(m.commitMutation)(te.a,Object(u.a)({mutation:a,variables:e,onCompleted:function(e,a){a&&Object(le.a)(a),n(e,a)},onError:function(e){Object(le.a)(e),n(null,e)}},t))},ie=n(89),oe=Object(g.a)((function(e){return{wrapper:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},buttonProgress:{position:"absolute"}}}));function se(e){var a=e.isLoading,n=e.children,t=Object(d.a)(e,["isLoading","children"]),l=oe();return r.a.createElement("div",{className:l.wrapper},r.a.createElement(B.a,Object.assign({variant:"contained",color:"primary",fullWidth:!0,disabled:a||t.disabled},t),n),a&&r.a.createElement(ie.a,{size:24,className:l.buttonProgress}))}var ce=n(232),ue=function(e){var a,n=e.errors,t=Object(d.a)(e,["errors"]);return r.a.createElement(T.a,Object.assign({fullWidth:!0,error:void 0!==n[t.name],helperText:null===(a=n[t.name])||void 0===a?void 0:a.message},t))},me=n(393);var de=function(e){var a=e.label,n=Object(d.a)(e,["label"]);return r.a.createElement("div",null,r.a.createElement(me.a,n),a)},ge=n(370),pe=n(371),fe=n(388),be=n(365),ye=n(373);var he=function(e){var a;return r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(pe.a,{error:Boolean(e.errors[e.name])},e.label),r.a.createElement(fe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:e.name,fullWidth:!0,onChange:function(a){return e.onChange(a.target.value)},value:e.value,onBlur:e.onBlur},e.options.map((function(e){return void 0!==e.value?r.a.createElement(be.a,{key:e.value,value:e.value},e.label):r.a.createElement(be.a,{key:e,value:e},e)}))),r.a.createElement(ye.a,{error:Boolean(e.errors[e.name])},(null===(a=e.errors[e.name])||void 0===a?void 0:a.message)||e.helperText))},ve=n(362),ke=n(351),Ee=n(366),Se=n(398),Te=Object(g.a)({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2,marginLeft:4}});var Oe=function(e){var a=[];void 0!==e.defaultValue?a=e.defaultValue.split(","):void 0!==e.value&&(a=e.value.split(","));var n=r.a.useState(a),t=Object(c.a)(n,2),l=t[0],i=t[1],o=Te();return r.a.createElement(ge.a,{fullWidth:!0},r.a.createElement(pe.a,{id:e.labelId},e.label),r.a.createElement(fe.a,{labelId:e.labelId||"Multiple select",id:e.id,multiple:!0,value:l,onChange:function(e){i(e.target.value)},input:r.a.createElement(Ee.a,{name:e.name,inputRef:e.inputRef}),renderValue:function(e){return r.a.createElement("div",{className:o.chips},e.map((function(e){return r.a.createElement(Se.a,{key:e,label:e,className:o.chip})})))}},e.options.map((function(e){return r.a.createElement(be.a,{key:e,value:e},r.a.createElement(me.a,{checked:l.indexOf(e)>-1}),r.a.createElement(ke.a,{primary:e}))}))))},je=n(309),Fe=n(372),Ke=Object(g.a)((function(e){return{formRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",paddingBottom:e.spacing(1),alignItems:"stretch"},label:{paddingLeft:e.spacing(1),border:"1px solid #efefef",flex:1,alignItems:"center",display:"flex"}}}));function we(e){var a=Ke();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,null,e.label),r.a.createElement(ge.a,{fullWidth:!0,className:a.formRow+" "+a.container},r.a.createElement("label",{className:a.label,htmlFor:"#".concat(e.name)},e.file||"No file selected"),r.a.createElement(B.a,{onClick:e.onButtonClick,variant:"contained",color:"secondary",className:a.half}," Select File "),r.a.createElement("input",{ref:e.inputRef,type:"file",name:e.name,id:e.name,multiple:!0,hidden:!0,onChange:e.handleChange})))}var Ce=function(e){var a=r.a.useState(""),n=Object(c.a)(a,2),t=n[0],l=n[1];return r.a.createElement(we,Object.assign({onButtonClick:function(){document.querySelector("#".concat(e.name)).click()},handleChange:function(e){if(0!==e.target.files.length){for(var a=e.target.files[0].name,n=1;n<e.target.files.length;n++)a+=", "+e.target.files[n].name;l(a)}},file:t},e))},xe=Object(g.a)((function(e){return{form:{padding:e.spacing(1),"&> *":{marginBottom:e.spacing(1)}}}}));function Re(e){var a=e.item,n=e.control;switch(a.type){case"checkboxGroup":return r.a.createElement("div",null,r.a.createElement(S.a,{variant:"h4"},a.title),a.items.map((function(e,n){return r.a.createElement(de,Object.assign({key:n,name:a.title+"_"+e},e))})));case"checkbox":return r.a.createElement(de,a);case"select":return r.a.createElement(ce.a,{as:r.a.createElement(he,a),control:n,name:a.name,defaultValue:a.defaultValue||""});case"multipleSelect":return r.a.createElement(Oe,a);case"upload":return r.a.createElement(Ce,a);case"hidden":return r.a.createElement("input",Object.assign({ref:a.inputRef},a));default:return r.a.createElement(ue,a)}}function Le(e){var a=Object(ce.d)({resolver:Object(je.a)(e.validationSchema)}),n=a.register,t=a.handleSubmit,l=a.errors,i=a.control,o=xe();return console.log(l),r.a.createElement(ve.a,{component:e.component||f.a},r.a.createElement("form",Object.assign({className:o.form},e.formProps,{onSubmit:t(e.onSubmit)}),r.a.createElement(S.a,{variant:"h4"},e.title),e.formSchema.map((function(e){return r.a.createElement(Re,{item:Object(u.a)(Object(u.a)({},e),{},{inputRef:n,errors:l}),key:e.name,control:i})})),e.children))}Le.defaultProps={title:"Add Data",validationSchema:{}};var De=Le;function Ne(e){var a=e.btnText,n=e.mutation,t=Object(d.a)(e,["btnText","mutation"]),l=r.a.useState(!1),i=Object(c.a)(l,2),o=i[0],s=i[1];return r.a.createElement(De,Object.assign({},t,{onSubmit:function(e){console.log(e),s(!0),re({data:e},n,(function(e,a){if(s(!1),t.handleResponse)return t.handleResponse(e,a);a||Object(w.d)(t.message)}),Object(u.a)({},t.extraData))}}),t.children,r.a.createElement(se,{isLoading:o,type:"submit"},a))}Ne.defaultProps={btnText:"Submit",response:function(){},message:"Action Completed!",extraData:{}};var Ve,Ie=Ne,Pe=n(316),Ae=[{type:"text",name:"team",required:!0,label:"Team name"}],Qe=Pe.a().shape({team:Pe.b().required().max(50)}),qe=void 0!==Ve?Ve:Ve=n(313),Be=n(24);var Me=Object(Be.b)((function(e){return{modal:e.Independent.modalOpen}}))((function(e){return r.a.createElement(ne,{title:"Add Team",open:e.modal,handleClose:function(){return Object(M.d)()},hideSubmit:!0},r.a.createElement(Ie,{title:"",component:"div",formSchema:Ae,mutation:qe,validationSchema:Qe,message:"Team created"}))})),Ue=n(346),We=n(347),$e=n(350),_e=n(349),Ge=n(353),ze=Object(g.a)((function(e){return{paperStyle:{background:e.palette.background.paper,position:"relative",borderRadius:4,overflow:"hidden",boxShadow:e.shadows[1]}}}));function He(e){var a=e.items,n=Object(d.a)(e,["items"]),t=ze();return r.a.createElement(_e.a,{dense:Boolean(n.dense),className:n.listClass||t.paperStyle,subheader:r.a.createElement(Ge.a,null,n.heading||"")},a.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(Ue.a,Object.assign({className:n.itemClass||"",button:n.button,onClick:function(a){return n.itemClick(e,t,a)},selected:-1!==n.selected.indexOf(e.id)},n.listItemProps,{href:e.href}),e.icon&&r.a.createElement($e.a,null,e.icon),r.a.createElement(ke.a,{primary:e.primaryText,secondary:e.secondaryText||""}),e.secondaryIcon&&r.a.createElement(We.a,null,e.secondaryIcon)),function(e,a,n){return e&&n<a-1?r.a.createElement(Y.a,null):null}(n.divider,a.length,t))})))}He.defaultProps={button:!1,itemClick:function(){},selected:[]};var Je,Xe,Ye=He,Ze=n(231),ea=n.n(Ze),aa=n(394),na=n(384),ta=void 0!==Je?Je:Je=n(314),la=void 0!==Xe?Xe:Xe=n(315),ra=Object(g.a)((function(e){return{container:{position:"relative",height:"300px"},results:{position:"absolute",top:48,left:0,width:"100%"}}}));function ia(e){var a=ra(),n=r.a.useState(""),t=Object(c.a)(n,2),l=t[0],i=t[1];return r.a.createElement("div",{className:a.container},r.a.createElement(T.a,{fullWidth:!0,label:"Second Team",onChange:function(e){return i(e.target.value)}}),r.a.createElement("div",{className:a.results},r.a.createElement(o.a,{query:la,component:function(a){return r.a.createElement(oa,Object.assign({},a,{selectTeam:e.selectTeam,skip:e.skip}))},variables:{search:l}})))}function oa(e){var a=e.getTeams.docs.map((function(e){return{primaryText:e.team,id:e.id}})).filter((function(a){return a.id!==e.skip}));return r.a.createElement(Ye,{items:a,button:!0,dense:!0,divider:!0,itemClick:function(a){e.selectTeam(a)}})}function sa(e){var a=e.secondTeam,n=Object(d.a)(e,["secondTeam"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(S.a,{variant:"h3",component:"center",style:{fontWeight:400}}," ",a.team.primaryText," "),r.a.createElement(K.a,{title:"Select different team",icon:r.a.createElement(ea.a,null),onClick:n.selectDifferent})))}var ca=Object(Be.b)((function(e){return{compete:e.Independent.compete}}))((function(e){var a=r.a.useState({set:!1,team:{}}),n=Object(c.a)(a,2),t=n[0],l=n[1],i=r.a.useState(""),o=Object(c.a)(i,2),s=o[0],u=o[1],m=r.a.useState(!1),d=Object(c.a)(m,2),g=d[0],p=d[1];if(!e.compete)return null;function f(){l({set:!1}),Object(M.a)({modal:!1})}return r.a.createElement(ne,{open:e.compete.modal,title:"Compete with ".concat(e.compete.team," team"),hideSubmit:!0,handleClose:f},r.a.createElement(S.a,{variant:"h3",component:"center",style:{fontWeight:400}}," ",e.compete.team," "),r.a.createElement(S.a,{variant:"body2",component:"center"}," v/s "),t.set?r.a.createElement(r.a.Fragment,null,r.a.createElement(sa,{secondTeam:t,selectDifferent:function(){return l({set:!1})}}),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(S.a,{variant:"body2"}," Winner "),r.a.createElement(aa.a,{value:s,onChange:function(e,a){return u(a)},exclusive:!0},r.a.createElement(na.a,{value:e.compete.id},e.compete.team),r.a.createElement(na.a,{value:"TIE"},"Tie"),r.a.createElement(na.a,{value:t.team.id},t.team.primaryText))),r.a.createElement("br",null),r.a.createElement(se,{isLoading:g,onClick:function(){if(""===s)return Object(w.c)("Please select a winner or tie");p(!0),re({data:{team1:e.compete.id,team2:t.team.id,winner:s}},ta,(function(e,a){p(!1),a||(f(),u(""),Object(w.d)("Results Updated"))}))}},"Save Result")):r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,{selectTeam:function(e){l({set:!0,team:e})},skip:e.compete.id})))}));a.default=function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement(o.a,{query:i,component:function(e){return r.a.createElement(_,{teams:e})}}),r.a.createElement(Me,null),r.a.createElement(ca,null))}}}]);